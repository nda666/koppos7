$(function(){$("#form_kode_rekening").submit(function(t){t.preventDefault(),$(this).attr("disabled","disabled");var e=$(this).serializeArray();$.post($(this).attr("action"),e,function(t){var e=$("<div></div>");t.response?(e.attr("class","alert alert-success"),e.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Sukses!!</b> '+t.message),a.update()):(e.attr("class","alert alert-danger"),e.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Gagal!!</b> '+t.message)),$(".alert-container").html(e)})}),$("form#edit_kode_rekening").submit(function(t){t.preventDefault(),$(this).attr("disabled","disabled");var e=$(this).serializeArray();$.post($(this).attr("action"),e,function(t){var e=$("<div></div>");t.response?(e.attr("class","alert alert-success"),e.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Sukses!!</b> '+t.message),a.update()):(e.attr("class","alert alert-danger"),e.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Gagal!!</b> '+t.message)),$("#edit-message").html(e)})});var a=$("#koderekening-grid").WATable({url:$("#koderekening-grid").attr("data-remote"),preFill:!0,filter:!0,transition:"slide",transitionDuration:.5,actions:{filter:!0,columnPicker:!0,custom:[$('<a href="#" class="refresh"><span class="glyphicon glyphicon-refresh"></span>&nbsp;Refresh</a>'),$('<a href="#" class="export_all"><span class="glyphicon glyphicon-share"></span>&nbsp;Export rows</a>')]},"row-cls":"col-sm-12"}).data("WATable");$("#useKode").change(function(a){a.preventDefault(),$(this).is(":checked")?($("#inputKode").attr("disabled","disabled"),$("#inputKode").removeAttr("required")):($("#inputKode").removeAttr("disabled").focus(),$("#inputKode").attr("required","required"))}),$("#useKode").prop("checked","checked"),$("#master").on("click",".edit-btn",function(t){var e=a.getRow($(this).attr("data-unique"));$("#modal-container-edit #inputID").val("").val(e.row.ID),$("#modal-container-edit #inputJenis").val(e.row.jenisID);var s=e.row.Kode.toString().split(" ");$("#modal-container-edit #inputKode").val("").val(s[2]?s[2]:e.row.Kode),$("#modal-container-edit #inputNama").val("").val(e.row.Nama),$("#modal-container-edit #inputKeterangan").val("").val(e.row.Keterangan),$("#edit-message").html(""),$("#modal-container-edit").modal("show")}),$("#master").on("click",".delete-btn",function(a){var t=$(this),e=bootbox.dialog({message:"Menghapus data tidak dapat dibatalkan. Anda yakin menghapus data ini?",title:"Konfirmasi",buttons:{error:{label:"Tidak",className:"btn-default"},success:{label:"Ya, Hapus",className:"btn-danger",callback:function(a){return $(a.currentTarget).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> Loading...'),$(a.currentTarget).prop("disabled","disabled"),$.get(t.attr("data-url"),function(t){var s=$("<div></div>");t.response?(s.attr("class","alert alert-success"),s.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Sukses!!!</b> '+t.message)):(s.attr("class","alert alert-danger"),s.html('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><b>Gagal!!</b> '+t.message)),$(".alert-container").html(s),$(a.currentTarget).removeAttr("disabled"),e.modal("hide")}),!1}}}})})});